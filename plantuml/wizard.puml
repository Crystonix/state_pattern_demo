@startuml WizardPattern
left to right direction

skinparam class {
  BackgroundColor<<Context>> LightBlue
  BackgroundColor<<Abstract>> LightGreen
  BackgroundColor<<State>> LightYellow
  BackgroundColor<<Interface>> LightGray
}

interface WizardState<T> <<Interface>>
abstract class BaseWizardState<T> <<Abstract>>

class UserInfoState <<State>>
class PreferencesState <<State>>
class NewsletterState <<State>>
class ReviewState <<State>>

class WizardStore <<Context>>

' Inheritance
WizardState <|.. BaseWizardState
BaseWizardState <|.. UserInfoState
BaseWizardState <|.. PreferencesState
BaseWizardState <|.. NewsletterState
BaseWizardState <|.. ReviewState

' Relationships
BaseWizardState --> WizardStore : context
WizardStore --> WizardState : steps

' Optional Newsletter flow
UserInfoState -right->PreferencesState
PreferencesState -right-> NewsletterState : optional
NewsletterState -right-> ReviewState

@enduml
